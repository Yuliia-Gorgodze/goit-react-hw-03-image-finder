{"version":3,"sources":["components/Searchbar.js","components/ImageGalleryItem.js","components/ImageGallery.js","components/Modal.js","components/Button.js","components/Loader.js","services/fetchImg.js","App.js","index.js"],"names":["Searchbar","state","value","onSubmitForm","event","preventDefault","props","inputChange","currentTarget","setState","className","onSubmit","this","type","onChange","autoComplete","autoFocus","placeholder","Component","ImagesGalleryItem","img","openModal","webformatURL","tags","onClick","src","alt","propTipes","node","func","isRequired","ImageGallery","images","map","id","array","Modal","hendlKeyDown","e","code","showModal","window","addEventListener","removeEventListener","clouseModal","largeImageURL","Button","loadMore","console","log","loader","color","height","width","fetchImg","page","axios","get","string","number","App","modal","isLoading","linkModal","button","then","data","hits","length","catch","error","alert","closeModal","target","nodeName","scrollTo","top","document","documentElement","scrollTop","clientHeight","behavior","Loader","ReactDOM","render","StrictMode","getElementById"],"mappings":"8QAyCeA,E,4MArCXC,MAAQ,CACJC,MAAO,I,EAGXC,aAAe,SAAAC,GACXA,EAAMC,iBACN,EAAKC,MAAMH,aAAa,EAAKF,MAAMC,Q,EAItCK,YAAc,SAAAH,GAAU,IACdI,EAAiBJ,EAAjBI,cACP,EAAKC,SAAS,CAACP,MAAOM,EAAcN,S,4CAEpC,WAEI,OACI,wBAAQQ,UAAU,YAAlB,SACN,uBAAOA,UAAU,aAAaC,SAAUC,KAAKT,aAA7C,UACF,wBAAQU,KAAK,SAASH,UAAU,oBAAhC,SACE,sBAAMA,UAAU,0BAAhB,sBAGF,uBACEI,SAAUF,KAAKL,YACfG,UAAU,mBACVG,KAAK,OACLE,aAAa,MACbC,WAAS,EACTC,YAAY,sC,GA9BEC,a,gBCDlBC,EAAoB,SAAC,GAAwB,IAAtBC,EAAqB,EAArBA,IAAKC,EAAgB,EAAhBA,UACxBC,EAAuBF,EAAvBE,aAAcC,EAASH,EAATG,KACtB,OACE,oBAAIb,UAAU,mBAAd,SACE,qBACEc,QAAS,kBAAMH,EAAUD,IACzBK,IAAKH,EACLI,IAAKH,EACLb,UAAU,8BAKHS,IAEfA,EAAkBQ,UAAY,CAC5BP,IAAKO,IAAUC,KACfP,UAAWM,IAAUE,KAAKC,YChB5B,IAAMC,EAAe,SAAC,GAA2B,IAAzBC,EAAwB,EAAxBA,OAAQX,EAAgB,EAAhBA,UAC9B,OACE,oBAAIX,UAAU,eAAd,SACGsB,EAAOC,KAAI,SAAAb,GAAG,OACb,cAAC,EAAD,CAAmBC,UAAWA,EAAWD,IAAKA,GAAUA,EAAIc,UAKrDH,IAEfA,EAAaJ,UAAY,CACvBK,OAAQL,IAAUQ,MAAML,WACxBT,UAAWM,IAAUE,KAAKC,Y,ICYbM,E,4MAjBZC,aAAc,SAAAC,GACE,WAAXA,EAAEC,MACE,EAAKjC,MAAMkC,a,uDATpB,WACIC,OAAOC,iBAAiB,UAAW9B,KAAKyB,gB,kCAG5C,WACCI,OAAOE,oBAAoB,UAAW/B,KAAKyB,gB,oBAO3C,WAAU,IACCjB,EAAOR,KAAKN,MAAZc,IAEP,OACI,qBAAMI,QAASZ,KAAKN,MAAMsC,YAAalC,UAAU,UAAjD,SACE,qBAAKA,UAAU,QAAf,SACG,qBAAKe,IAAKL,EAAIyB,cAAenB,IAAKN,EAAIG,e,GAnBnCL,aCDd4B,EAAS,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAEhB,OADAC,QAAQC,IAAIF,GACL,wBAAQvB,QAASuB,EAAjB,wBAEMD,IAEfA,EAAOnB,UAAY,CACjBoB,SAAUpB,IAAUE,KAAKC,Y,qBCIZoB,EAXA,WACb,OACE,cAAC,IAAD,CACExC,UAAU,SACVG,KAAK,OACLsC,MAAM,UACNC,OAAQ,IACRC,MAAO,O,iBCNPC,EAAW,SAACpD,EAAOqD,GACvB,OAAOC,IAAMC,IAAN,qCACyBvD,EADzB,iBACuCqD,EADvC,iGAKMD,IAEfA,EAAS3B,UAAY,CACnBzB,MAAOyB,IAAU+B,OACjBH,KAAM5B,IAAUgC,Q,ICyFHC,E,4MA5Fb3D,MAAQ,CACN+B,OAAQ,GACR9B,MAAO,GACP2D,OAAO,EACPC,WAAW,EACXC,UAAW,GACXR,KAAM,EACNS,QAAQ,G,EAUV7D,aAAe,SAAAD,GACTA,GACF,EAAKO,SAAS,CAAEqD,WAAW,IAE3BR,EAASpD,EAAO,GACb+D,MAAK,qBAAGC,KAAgBC,QACxBF,MAAK,SAAAC,GAAI,OACR,EAAKzD,SAAS,CACZuB,OAAQkC,EACRhE,MAAOA,EACPqD,KAAM,EACNO,WAAW,EACXE,OAAwB,KAAhBE,EAAKE,YAGhBC,OAAM,SAAAC,GAAK,OAAItB,QAAQsB,MAAM,CAAEA,cAElCC,MAAM,gG,EAIVxB,SAAW,WAAO,IAAD,EACiB,EAAK9C,MAA7BC,EADO,EACPA,MAAOqD,EADA,EACAA,KAAMvB,EADN,EACMA,OACrB,EAAKvB,SAAS,CAAEqD,WAAW,IAC3BR,EAASpD,EAAOqD,GACbU,MAAK,qBAAGC,KAAgBC,QACxBF,MAAK,SAAAC,GAAI,OACR,EAAKzD,SAAS,CACZuB,OAAO,GAAD,mBAAMA,GAAN,YAAiBkC,IACvBJ,WAAW,EACXE,OAAwB,KAAhBE,EAAKE,YAGnB,EAAK3D,UAAS,SAAAR,GACZ,MAAO,CAAEsD,KAAMtD,EAAMsD,KAAO,O,EAGhCf,UAAY,SAAApB,GAAQ,IACVyC,EAAU,EAAK5D,MAAf4D,MACRzC,EACI,EAAKX,SAAS,CAAEsD,UAAW3C,EAAKyC,OAAQA,IACxC,EAAKpD,SAAS,CAAEoD,OAAQA,K,EAE9BW,WAAa,SAAApE,GAAU,IACbyD,EAAU,EAAK5D,MAAf4D,MACsB,QAA1BzD,EAAMqE,OAAOC,UACf,EAAKjE,SAAS,CAAEoD,OAAQA,K,wDAtD5B,WACEpB,OAAOkC,SAAS,CACdC,IACEC,SAASC,gBAAgBC,UACzBF,SAASC,gBAAgBE,aAC3BC,SAAU,a,oBAqDd,WACE,OACE,gCACE,cAAC,EAAD,CAAW9E,aAAcS,KAAKT,eACA,IAA7BS,KAAKX,MAAM+B,OAAOoC,OACjB,+EAEA,cAAC,EAAD,CAAcpC,OAAQpB,KAAKX,MAAM+B,OAAQX,UAAWT,KAAK4B,YAE1D5B,KAAKX,MAAM4D,OACV,cAAC,EAAD,CACErB,UAAW5B,KAAK4B,UAChBI,YAAahC,KAAK4D,WAClBpD,IAAKR,KAAKX,MAAM8D,YAGU,IAA7BnD,KAAKX,MAAM+B,OAAOoC,QAAgBxD,KAAKX,MAAM+D,QAC5C,cAAC,EAAD,CAAQjB,SAAUnC,KAAKmC,WAExBnC,KAAKX,MAAM6D,WAAa,cAACoB,EAAD,W,GAvFfhE,aCFlBiE,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFR,SAASS,eAAe,W","file":"static/js/main.5b1ade67.chunk.js","sourcesContent":["\r\nimport React, { Component } from 'react';\r\n\r\nclass Searchbar extends Component {\r\n    state = {\r\n        value: ''\r\n    }\r\n   \r\n    onSubmitForm = event => {\r\n        event.preventDefault();\r\n        this.props.onSubmitForm(this.state.value)\r\n        \r\n\r\n     }\r\n     inputChange = event => {\r\n        const {currentTarget} = event;\r\n        this.setState({value: currentTarget.value})\r\n    }\r\n        render (){\r\n           \r\n            return (\r\n                <header className=\"Searchbar\">\r\n          <form  className=\"SearchForm\" onSubmit={this.onSubmitForm}>\r\n        <button type=\"submit\" className=\"SearchForm-button\">\r\n          <span className=\"SearchForm-button-label\">Search</span>\r\n        </button>\r\n    \r\n        <input\r\n          onChange={this.inputChange}\r\n          className=\"SearchForm-input\"\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n        />\r\n      </form>\r\n    </header>\r\n            )\r\n        }\r\n    }\r\n\r\nexport default Searchbar","import propTipes from 'prop-types';\r\n\r\nconst ImagesGalleryItem = ({ img, openModal }) => {\r\n  const { webformatURL, tags } = img;\r\n  return (\r\n    <li className=\"ImageGalleryItem\">\r\n      <img\r\n        onClick={() => openModal(img)}\r\n        src={webformatURL}\r\n        alt={tags}\r\n        className=\"ImageGalleryItem-image\"\r\n      />\r\n    </li>\r\n  );\r\n};\r\nexport default ImagesGalleryItem;\r\n\r\nImagesGalleryItem.propTipes = {\r\n  img: propTipes.node,\r\n  openModal: propTipes.func.isRequired,\r\n};\r\n","import ImagesGalleryItem from '../components/ImageGalleryItem';\r\nimport propTipes from 'prop-types';\r\n\r\nconst ImageGallery = ({ images, openModal }) => {\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      {images.map(img => (\r\n        <ImagesGalleryItem openModal={openModal} img={img} key={img.id} />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\nexport default ImageGallery;\r\n\r\nImageGallery.propTipes = {\r\n  images: propTipes.array.isRequired,\r\n  openModal: propTipes.func.isRequired,\r\n};\r\n","import { Component } from \"react\";\r\n\r\n\r\nclass Modal extends Component  {\r\n   componentDidMount(){\r\n       window.addEventListener('keydown', this.hendlKeyDown)\r\n   \r\n   }\r\n   componentWillUnmount(){\r\n    window.removeEventListener('keydown', this.hendlKeyDown)\r\n   }\r\n   hendlKeyDown= e =>{\r\n    if( e.code === 'Escape'){\r\n            this.props.showModal()\r\n        } \r\n   }\r\n    render() {\r\n        const {img} = this.props;\r\n      \r\n        return (  \r\n            <div  onClick={this.props.clouseModal} className=\"Overlay\">\r\n              <div className=\"Modal\">\r\n                 <img src={img.largeImageURL} alt={img.tags} />\r\n              </div>\r\n           </div>\r\n        )\r\n    }\r\n}\r\nexport default Modal;","import propTipes from 'prop-types';\r\n\r\nconst Button = ({ loadMore }) => {\r\n  console.log(loadMore);\r\n  return <button onClick={loadMore}>Load more</button>;\r\n};\r\nexport default Button;\r\n\r\nButton.propTipes = {\r\n  loadMore: propTipes.func.isRequired,\r\n};\r\n","import Loader from 'react-loader-spinner';\r\n\r\nconst loader = () => {\r\n  return (\r\n    <Loader\r\n      className=\"loader\"\r\n      type=\"Puff\"\r\n      color=\"#00BFFF\"\r\n      height={100}\r\n      width={100}\r\n    />\r\n  );\r\n};\r\nexport default loader;\r\n","import axios from 'axios';\r\nimport propTipes from 'prop-types';\r\n\r\nconst fetchImg = (value, page) => {\r\n  return axios.get(\r\n    `https://pixabay.com/api/?q=${value}&page=${page}&key=19710630-7a075c48acce7d09c67ce0055&image_type=photo&orientation=horizontal&per_page=12`,\r\n  );\r\n};\r\n\r\nexport default fetchImg;\r\n\r\nfetchImg.propTipes = {\r\n  value: propTipes.string,\r\n  page: propTipes.number,\r\n};\r\n","import { Component } from 'react';\n\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Modal from './components/Modal';\nimport Button from './components/Button';\nimport Loader from './components/Loader';\nimport fetchImg from './services/fetchImg';\n\nclass App extends Component {\n  state = {\n    images: [],\n    value: '',\n    modal: false,\n    isLoading: false,\n    linkModal: {},\n    page: 1,\n    button: true,\n  };\n  componentDidUpdate() {\n    window.scrollTo({\n      top:\n        document.documentElement.scrollTop +\n        document.documentElement.clientHeight,\n      behavior: 'smooth',\n    });\n  }\n  onSubmitForm = value => {\n    if (value) {\n      this.setState({ isLoading: true });\n\n      fetchImg(value, 1)\n        .then(({ data }) => data.hits)\n        .then(data =>\n          this.setState({\n            images: data,\n            value: value,\n            page: 2,\n            isLoading: false,\n            button: data.length === 12,\n          }),\n        )\n        .catch(error => console.error({ error }));\n    } else {\n      alert('введите значение');\n    }\n  };\n\n  loadMore = () => {\n    const { value, page, images } = this.state;\n    this.setState({ isLoading: true });\n    fetchImg(value, page)\n      .then(({ data }) => data.hits)\n      .then(data =>\n        this.setState({\n          images: [...images, ...data],\n          isLoading: false,\n          button: data.length === 12,\n        }),\n      );\n    this.setState(state => {\n      return { page: state.page + 1 };\n    });\n  };\n  showModal = img => {\n    const { modal } = this.state;\n    img\n      ? this.setState({ linkModal: img, modal: !modal })\n      : this.setState({ modal: !modal });\n  };\n  closeModal = event => {\n    const { modal } = this.state;\n    if (event.target.nodeName === 'DIV') {\n      this.setState({ modal: !modal });\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        <Searchbar onSubmitForm={this.onSubmitForm} />\n        {this.state.images.length === 0 ? (\n          <h1>Что ищем? </h1>\n        ) : (\n          <ImageGallery images={this.state.images} openModal={this.showModal} />\n        )}\n        {this.state.modal && (\n          <Modal\n            showModal={this.showModal}\n            clouseModal={this.closeModal}\n            img={this.state.linkModal}\n          />\n        )}\n        {this.state.images.length !== 0 && this.state.button && (\n          <Button loadMore={this.loadMore} />\n        )}\n        {this.state.isLoading && <Loader />}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'modern-normalize'\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}